{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Miedziak\\\\Desktop\\\\weather\\\\app-weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Miedziak\\\\Desktop\\\\weather\\\\app-weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\Miedziak\\\\Desktop\\\\weather\\\\app-weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Miedziak\\\\Desktop\\\\weather\\\\app-weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import Form from'./Form';import Result from'./Result';import'./App.css';//Klucz do Api\nvar APIKey='1355db29be412c4bf1999ff232919774';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={value:'',country:'',date:'',city:'',temp:'',weather:'',tempMin:'',tempMax:'',icon:'',err:'false'};_this.handleInputChange=function(e){_this.setState({value:e.target.value});};return _this;}_createClass(App,[{key:\"componentDidUpdate\",// handleCitySubmit = (e) => {\n//   e.preventDefault();\n//   const API = `http://api.openweathermap.org/data/2.5/weather?q=${this.state.value}&appid=${APIKey}&units=metric`;\n// fetch(API)\n// .then(response => {\n//   if(response.ok){\n//     return response\n//   }\n//   throw Error(\"Nie udało się\")\n// }) //Spelniony\n// .then(response => response.json())\n// .then(data => {\n//   const time = new Date().toLocaleString()\n//   this.setState(state => ({\n//   err: false,\n//   date: time,\n//   city: state.value,\n//   sunrise: data.sys.sunrise,\n//   sunset: data.sys.sunset,\n//   temp: data.main.temp,\n//   pressure: data.main.pressure,\n//   wind: data.wind.speed,\n// }))\n// })\n// .catch(err => {\n//   console.log(err);\n// this.setState(prevState => ({\n//     err:true,\n//     city: prevState.value\n//     }))\n//   }) //Odrzucony\n// }\nvalue:function componentDidUpdate(prevProps,prevState){var _this2=this;// console.log(prevState.value);\n// console.log(this.state.value);\nif(this.state.value.length===0)return;if(prevState.value!==this.state.value){var API=\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(this.state.value,\"&appid=\").concat(APIKey,\"&units=metric\");fetch(API).then(function(response){if(response.ok){return response;}throw Error(\"Nie udało się\");})//Spelniony\n.then(function(response){return response.json();}).then(function(data){var time=new Date().toLocaleString();_this2.setState(function(state){return{err:false,date:time,city:data.name,temp:data.main.temp,tempMax:data.main.temp_max,tempMin:data.main.temp_min,weather:data.weather[0].main,icon:data.weather[0].icon,country:data.sys.country};});}).catch(function(err){console.log(err);_this2.setState(function(prevState){return{err:true,city:prevState.value};});});//Odrzucony\n}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Form,{value:this.state.value,change:this.handleInputChange,submit:this.handleCitySubmit}),/*#__PURE__*/React.createElement(Result,{weather:this.state}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/Miedziak/Desktop/weather/app-weather/src/components/App.js"],"names":["React","Component","Form","Result","APIKey","App","state","value","country","date","city","temp","weather","tempMin","tempMax","icon","err","handleInputChange","e","setState","target","prevProps","prevState","length","API","fetch","then","response","ok","Error","json","data","time","Date","toLocaleString","name","main","temp_max","temp_min","sys","catch","console","log","handleCitySubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Form from './Form';\nimport Result from './Result';\nimport './App.css';\n//Klucz do Api\nconst APIKey ='1355db29be412c4bf1999ff232919774';\n\nclass App extends Component {\nstate = {\n  value: '',\n  country: '',\n  date: '',\n  city: '',\n  temp: '',\n  weather: '',\n  tempMin: '',\n  tempMax: '',\n  icon: '',\n  err : 'false',\n}\n\nhandleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    })\n}\n\n// handleCitySubmit = (e) => {\n//   e.preventDefault();\n\n//   const API = `http://api.openweathermap.org/data/2.5/weather?q=${this.state.value}&appid=${APIKey}&units=metric`;\n\n// fetch(API)\n// .then(response => {\n//   if(response.ok){\n//     return response\n//   }\n//   throw Error(\"Nie udało się\")\n// }) //Spelniony\n// .then(response => response.json())\n// .then(data => {\n//   const time = new Date().toLocaleString()\n\n//   this.setState(state => ({\n//   err: false,\n//   date: time,\n//   city: state.value,\n//   sunrise: data.sys.sunrise,\n//   sunset: data.sys.sunset,\n//   temp: data.main.temp,\n//   pressure: data.main.pressure,\n//   wind: data.wind.speed,\n// }))\n// })\n// .catch(err => {\n//   console.log(err);\n// this.setState(prevState => ({\n//     err:true,\n//     city: prevState.value\n//     }))\n//   }) //Odrzucony\n\n\n// }\n\ncomponentDidUpdate(prevProps, prevState){\n  // console.log(prevState.value);\n  // console.log(this.state.value);\n\n  if(this.state.value.length === 0) return;\n  if(prevState.value !== this.state.value){\n    \n    const API = `http://api.openweathermap.org/data/2.5/weather?q=${this.state.value}&appid=${APIKey}&units=metric`;\n\n  fetch(API)\n  .then(response => {\n    if(response.ok){\n      return response\n    }\n    throw Error(\"Nie udało się\")\n  }) //Spelniony\n  .then(response => response.json())\n  .then(data => {\n    const time = new Date().toLocaleString()\n\n    this.setState(state => ({\n    err: false,\n    date: time,\n    city: data.name,\n    temp: data.main.temp,\n    tempMax: data.main.temp_max,\n    tempMin: data.main.temp_min,\n    weather: data.weather[0].main,\n    icon: data.weather[0].icon,\n    country: data.sys.country\n  }))\n  })\n  .catch(err => {\n    console.log(err);\n  this.setState(prevState => ({\n      err:true,\n      city: prevState.value\n      }))\n    }) //Odrzucony\n  }\n}\n\nrender() {\n  return (\n    <div className=\"App\">\n      <Form\n      value={this.state.value}\n      change={this.handleInputChange}\n      submit={this.handleCitySubmit}/>\n      <Result weather={this.state}/>\n\n    </div>\n  );\n}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}